(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7078:(e,t,r)=>{Promise.resolve().then(r.bind(r,532))},532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var a=r(5155),l=r(2115),s=r(3463),n=r(9795);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("rounded-xl border bg-card text-card-foreground shadow",r),...l})});o.displayName="Card";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...l})});d.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("font-semibold leading-none tracking-tight",r),...l})});c.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("text-sm text-muted-foreground",r),...l})}).displayName="CardDescription";let h=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("p-6 pt-0",r),...l})});h.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...l})}).displayName="CardFooter";var u=r(1290),f=r(1027);let m=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,t)=>{let{className:r,variant:l,size:s,asChild:n=!1,...o}=e,d=n?u.DX:"button";return(0,a.jsx)(d,{className:i(m({variant:l,size:s,className:r})),ref:t,...o})});x.displayName="Button";let p=l.forwardRef((e,t)=>{let{className:r,type:l,...s}=e;return(0,a.jsx)("input",{type:l,className:i("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});p.displayName="Input";let g=(0,f.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w=l.forwardRef((e,t)=>{let{className:r,variant:l,...s}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:i(g({variant:l}),r),...s})});w.displayName="Alert",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("h5",{ref:t,className:i("mb-1 font-medium leading-none tracking-tight",r),...l})}).displayName="AlertTitle";let j=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:i("text-sm [&_p]:leading-relaxed",r),...l})});j.displayName="AlertDescription";var v=r(7512),b=r(2472),N=r(4109),y=r(4180),W=r(7358);let S=[["deepWater","deepWater","deepWater","shallowWater","lowland","lowland"],["deepWater","deepWater","shallowWater","beach","lowland","shallowWater"],["deepWater","shallowWater","beach","lowland","shallowWater","deepWater"],["deepWater","shallowWater","lowland","highland","shallowWater","deepWater"],["shallowWater","beach","highland","shallowWater","deepWater","deepWater"],["lowland","lowland","shallowWater","deepWater","deepWater","deepWater"]],A={deepWater:{name:"Deep Water",color:"#2C7AAF",pattern:"deepWaterPattern"},shallowWater:{name:"Shallow Water",color:"#5497C4",pattern:"shallowWaterPattern"},beach:{name:"Beach",color:"#D4C391",pattern:"beachPattern"},lowland:{name:"Lowland",color:"#8BAF75",pattern:"lowlandPattern"},highland:{name:"Highland",color:"#6A8C59",pattern:"highlandPattern"},mountain:{name:"Mountain",color:"#505F44",pattern:"mountainPattern"}},L=e=>{let{width:t=600,height:r=600,gridSize:s=6,onCellHover:n,selectedCell:i,seed:o=1,onTerrainGenerated:d}=e,c=(0,l.useMemo)(()=>{if(1===o)return S;let e=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(43758.5453*Math.sin(12.9898*e+78.233*t+43758.5453*o+7919*r)%1+1)/2},t=(t,r)=>Array.from({length:s},(a,l)=>Array.from({length:s},(a,n)=>e(l/s*t,n/s*t,r))),r=t(1,1),a=t(2,2),l=t(4,3),n=Array.from({length:s},(e,t)=>Array.from({length:s},(e,s)=>.5*r[t][s]+.3*a[t][s]+.2*l[t][s])),i=e=>e<.3?"deepWater":e<.4?"shallowWater":e<.45?"beach":e<.6?"lowland":e<.75?"highland":"mountain",d=n.map(e=>e.map(e=>i(e))),c=e=>e.map((t,r)=>t.map((t,a)=>{let l=[];for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++){let i=r+t,o=a+n;i>=0&&i<s&&o>=0&&o<s&&l.push(e[i][o])}let n=l.filter(e=>"deepWater"===e||"shallowWater"===e).length,i=l.length-n;if("beach"===t){if(n>i+1)return"shallowWater";if(i>n+1)return"lowland"}return t}));for(let e=0;e<2;e++)d=c(d);return(e=>{let r=t(3,4);return e.map((e,t)=>e.map((e,a)=>{let l=r[t][a];return("deepWater"===e||"shallowWater"===e)&&l>.85?"beach":("lowland"===e||"highland"===e)&&l>.9?"shallowWater":e}))})(d)},[o,s]);(0,l.useEffect)(()=>{d&&d(c)},[c,d]);let h={deepWaterPattern:"deepWater-".concat(o),shallowWaterPattern:"shallowWater-".concat(o),beachPattern:"beach-".concat(o),lowlandPattern:"lowland-".concat(o),highlandPattern:"highland-".concat(o),mountainPattern:"mountain-".concat(o)},u=(e,t)=>{n&&n(e,t)};return(0,a.jsxs)("svg",{width:t,height:r,className:"border border-gray-300 rounded-lg",viewBox:"0 0 ".concat(t," ").concat(r),children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("pattern",{id:h.deepWaterPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.deepWater.color}),(0,a.jsx)("path",{d:"M0 10 Q5 8, 10 10 T20 10",fill:"none",stroke:"#1B5C8D",strokeWidth:"0.5",transform:"translate(0,0)"}),(0,a.jsx)("path",{d:"M0 10 Q5 12, 10 10 T20 10",fill:"none",stroke:"#1B5C8D",strokeWidth:"0.5",transform:"translate(0,5)"})]}),(0,a.jsxs)("pattern",{id:h.shallowWaterPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.shallowWater.color}),(0,a.jsx)("path",{d:"M0 10 Q5 9, 10 10 T20 10",fill:"none",stroke:"#3A7EA6",strokeWidth:"0.3",transform:"translate(0,0)"})]}),(0,a.jsxs)("pattern",{id:h.beachPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.beach.color}),(0,a.jsx)("circle",{cx:"5",cy:"5",r:"0.3",fill:"#C4B381"}),(0,a.jsx)("circle",{cx:"15",cy:"15",r:"0.3",fill:"#C4B381"})]}),(0,a.jsxs)("pattern",{id:h.lowlandPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.lowland.color}),(0,a.jsx)("path",{d:"M10,2 L12,5 L8,5 Z",fill:"#7A9C64",transform:"rotate(30,10,10)"})]}),(0,a.jsxs)("pattern",{id:h.highlandPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.highland.color}),(0,a.jsx)("path",{d:"M5,5 L8,2 L11,5 Z",fill:"#597A47"}),(0,a.jsx)("path",{d:"M15,15 L18,12 L21,15 Z",fill:"#597A47"})]}),(0,a.jsxs)("pattern",{id:h.mountainPattern,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("rect",{width:"20",height:"20",fill:A.mountain.color}),(0,a.jsx)("path",{d:"M10,2 L15,10 L5,10 Z",fill:"#3D4A33"}),(0,a.jsx)("path",{d:"M15,8 L20,16 L10,16 Z",fill:"#3D4A33",transform:"translate(-5,0)"})]}),(0,a.jsxs)("filter",{id:"cellGlow",children:[(0,a.jsx)("feGaussianBlur",{stdDeviation:"2",result:"blur"}),(0,a.jsx)("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),c.map((e,l)=>e.map((e,n)=>{let o=t/s,d=r/s,c=l*o,f=n*d;return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{x:c,y:f,width:o,height:d,fill:"url(#".concat(h[A[e].pattern],")"),className:"transition-colors duration-200"}),(0,a.jsx)("rect",{x:c,y:f,width:o,height:d,fill:"none",stroke:"rgba(0,0,0,0.2)",strokeWidth:"0.5",onMouseEnter:()=>u(l,n),style:{cursor:"pointer"}}),i&&i.x===l&&i.y===n&&(0,a.jsx)("rect",{x:c,y:f,width:o,height:d,fill:"none",stroke:"#fff",strokeWidth:"2",filter:"url(#cellGlow)",opacity:"0.5"}),(0,a.jsx)("text",{x:c+o/2,y:f+d/2,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.5)",fontSize:"12",className:"select-none pointer-events-none",children:"".concat(String.fromCharCode(65+l)).concat(n+1)})]},"".concat(l,"-").concat(n))})),(0,a.jsxs)("g",{transform:"translate(".concat(t-40,", ").concat(r-40,")"),children:[(0,a.jsx)("circle",{r:"15",fill:"white",fillOpacity:"0.8"}),(0,a.jsx)("path",{d:"M0,-15 L4,-4 L0,-6 L-4,-4 Z",fill:"#555"}),(0,a.jsx)("path",{d:"M0,15 L4,4 L0,6 L-4,4 Z",fill:"#999"}),(0,a.jsx)("path",{d:"M15,0 L4,4 L6,0 L4,-4 Z",fill:"#999"}),(0,a.jsx)("path",{d:"M-15,0 L-4,4 L-6,0 L-4,-4 Z",fill:"#999"}),(0,a.jsx)("text",{x:"0",y:"-18",textAnchor:"middle",fontSize:"8",children:"N"})]})]})},C=()=>{let[e,t]=(0,l.useState)("initial"),[r,s]=(0,l.useState)(!1),[n,i]=(0,l.useState)(30),[u,f]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[S,A]=(0,l.useState)([]),[C,k]=(0,l.useState)(null),[M,P]=(0,l.useState)(0),[R,B]=(0,l.useState)(null),[U,D]=(0,l.useState)(1),[I,_]=(0,l.useState)(null),[E,G]=(0,l.useState)({user:{percentage:0,eliminated:0,total:20825},llm:{percentage:0,eliminated:0,total:20825}}),[O,Q]=(0,l.useState)({user:"",llm:""}),T=(0,l.useRef)(null),Z=(0,l.useRef)(null),q=(0,l.useRef)(null);(0,l.useEffect)(()=>()=>{T.current&&clearInterval(T.current),Z.current&&clearInterval(Z.current),q.current&&clearInterval(q.current)},[]);let z=(0,l.useCallback)(e=>{_(e)},[]),F=(0,l.useCallback)(()=>{if(!I)return[];let e=[],t=new Set,r=[];for(let e=0;e<6;e++)for(let t=0;t<6;t++){let a=I[e][t];("deepWater"===a||"shallowWater"===a)&&r.push({row:e,col:t})}for(;e.length<3&&r.length>0;){let a=Math.floor(Math.random()*r.length),l=r[a],s="".concat(l.row,"-").concat(l.col);t.has(s)||(e.push({row:l.row,col:l.col}),t.add(s)),r.splice(a,1)}return e},[I]);(0,l.useEffect)(()=>{I&&"userQuestion"===e&&A(F())},[I,e,F]);let H=()=>{D(Math.floor(999998*Math.random())+2),t("userQuestion"),i(30),P(0),f(""),g(""),Q({user:"",llm:""}),s(!1),Y(),X()},Y=()=>{T.current&&clearInterval(T.current),T.current=setInterval(()=>{i(e=>e<=1?(T.current&&clearInterval(T.current),0):e-1)},1e3)},V=()=>{q.current&&clearInterval(q.current),q.current=setInterval(()=>{P(e=>e>=2e3?(q.current&&clearInterval(q.current),2e3):e+Math.floor(100*Math.random())+50)},100)},X=()=>{V(),setTimeout(()=>{g("Are there any ships in the northern waters?"),G(e=>({...e,llm:{percentage:45.8,eliminated:9538,total:e.llm.total}})),Q(e=>({...e,llm:"Yes"}))},5e3)},$=e=>{e.preventDefault(),u.trim()&&(null!==T.current&&(clearInterval(T.current),T.current=null),G(e=>({...e,user:{percentage:23.4,eliminated:4873,total:e.user.total}})),Q(e=>({...e,user:"No"})),t("results"),s(!1))},J=(e,t)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Scenarios eliminated: ",e.eliminated.toLocaleString()]}),(0,a.jsxs)("span",{children:["Total scenarios: ",e.total.toLocaleString()]})]}),(0,a.jsx)("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(t," transition-all duration-1000 ease-out"),style:{width:"".concat(e.percentage,"%")}})})]});return(0,a.jsx)("div",{className:"flex items-center justify-center w-full min-h-screen bg-gray-50 p-4 md:p-6",children:(0,a.jsxs)(o,{className:"w-full max-w-5xl mx-auto",children:[(0,a.jsxs)(d,{className:"text-center pb-6",children:[(0,a.jsx)(c,{className:"text-2xl md:text-3xl font-bold",children:"Battleship Strategy Game"}),(0,a.jsx)("p",{className:"text-gray-500 text-lg md:text-xl mt-2",children:"You vs LLM: Who is the Better General?"})]}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md aspect-square",children:[(0,a.jsx)(L,{width:400,height:400,gridSize:6,onCellHover:(e,t)=>{k({x:e,y:t}),B(6*t+e)},selectedCell:C,seed:U,onTerrainGenerated:z}),"results"===e&&r&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:S.map((e,t)=>{let r=400/6;return(0,a.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 ".concat(R===6*e.row+e.col?"scale-125":""),style:{left:(e.col+.5)*r,top:(e.row+.5)*r,transition:"all 0.3s ease-in-out"},children:(0,a.jsx)(W.A,{className:"w-6 h-6 text-red-500 drop-shadow-lg"})},t)})})]})}),(0,a.jsx)("div",{className:"flex-1",children:(()=>{switch(e){case"initial":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-blue-900",children:"How to Play:"}),(0,a.jsxs)("div",{className:"space-y-3 text-blue-800",children:[(0,a.jsx)("p",{children:"Goal: Find three hidden ships on the tactical map"}),(0,a.jsx)("p",{children:"1. Ask questions that can be answered with one word"}),(0,a.jsx)("p",{children:"2. You have 30 seconds to ask your question"}),(0,a.jsx)("p",{children:"3. We‘ll compare how well each question helps find the ships"})]})]}),(0,a.jsx)(x,{onClick:H,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Begin Game"})]});case"userQuestion":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsxs)(j,{children:["Time remaining: ",n," seconds"]})]}),(0,a.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,a.jsx)(p,{value:u,onChange:e=>f(e.target.value),placeholder:"Enter a question that can be answered in one word...",className:"w-full"}),(0,a.jsx)(x,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!u.trim(),children:"Submit Question"})]})]});case"results":let t=m&&O.llm;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(w,{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsxs)(j,{className:"flex-1",children:["Your question: “",u,"”"]})]}),r&&(0,a.jsxs)(j,{children:["Answer: ",O.user]}),r&&J(E.user,"bg-blue-500")]})}),M>0&&!t&&(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 animate-pulse"}),(0,a.jsxs)(j,{children:["Questions analyzed: ",M.toLocaleString()]})]}),t?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(w,{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsxs)(j,{className:"flex-1",children:["LLM's question: “",m,"”"]})]}),r&&(0,a.jsxs)(j,{children:["Answer: ",O.llm]}),r&&J(E.llm,"bg-green-500")]})}):(0,a.jsxs)(w,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)(j,{children:"LLM is selecting the best question..."})]}),t&&!r&&(0,a.jsx)(x,{onClick:()=>s(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:"Reveal Results"}),r&&(0,a.jsx)(x,{onClick:H,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Play Again"})]})}})()})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[88,441,517,358],()=>t(7078)),_N_E=e.O()}]);